<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<style>
#section1 {
  height: 600px;
  background-color: pink;
}

#section2 {
  height: 600px;
  background-color: yellow;
}

/* Disable long-press menu */
a {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* Press highlight */
a:active {
    background-color: red;
    color: white;
}
</style>
</head>
<body>

<h1>Smooth Scroll</h1>

<div class="main" id="section1">
  <h2>Section 1</h2>
  <p>Click on the link to see the "smooth" scrolling effect.</p>
  <a href="#section2">Click Me to Smooth Scroll to Section 2 Below</a>
  <p>Note: Remove the scroll-behavior property to remove smooth scrolling.</p>
</div>

<div class="main" id="section2">
  <h2>Section 2</h2>
  <a href="#section1">Click Me to Smooth Scroll to Section 1 Above</a>
</div>

<!-- Smooth scroll -->
<script>
$(document).ready(function(){
  $("a").on("click", function(event) {
    if (this.hash !== "") {
      event.preventDefault();
      var hash = this.hash;

      $("html, body").animate({
        scrollTop: $(hash).offset().top
      }, 800, function() {
        window.location.hash = hash;
      });
    }
  });
});
</script>

<!-- Disable long-press menu + enable long-press navigation -->
<script>
document.querySelectorAll("a").forEach(link => {

    let touching = false;

    link.addEventListener("touchstart", () => {
        touching = true;
    });

    link.addEventListener("touchend", function(e) {
        if (touching) {
            touching = false;

            // Trigger a REAL click so jQuery smooth scroll detects it
            this.dispatchEvent(new MouseEvent("click", { 
                bubbles: true,
                cancelable: true 
            }));
        }
    });

    // Block long-press context menu
    link.addEventListener("contextmenu", e => e.preventDefault());
});
</script>


</body>
</html>


